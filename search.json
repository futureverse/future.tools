[{"path":"https://future.tools.futureverse.org/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to the ‘future.tools’ package","title":"Contributing to the ‘future.tools’ package","text":"Git repository uses Git Flow branching model (git flow extension useful ). develop branch contains latest contributions code appear next release, master branch contains code latest release. Contributing package easy. Just send pull request. send PR, make sure develop destination branch future.tools repository. PR pass R CMD check ---cran, also checked GitHub Actions PR submitted. abide Code Conduct Contributor Covenant.","code":""},{"path":"https://future.tools.futureverse.org/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Henrik Bengtsson. Author, maintainer, copyright holder.","code":""},{"path":"https://future.tools.futureverse.org/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bengtsson H (2025). future.tools: Tools Working Futures. R package version 0.1.0-9002, https://future.tools.futureverse.org.","code":"@Manual{,   title = {future.tools: Tools for Working with Futures},   author = {Henrik Bengtsson},   year = {2025},   note = {R package version 0.1.0-9002},   url = {https://future.tools.futureverse.org}, }"},{"path":[]},{"path":"https://future.tools.futureverse.org/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Working with Futures","text":"R package future.tools available via GitHub can installed R :","code":"remotes::install_github(\"futureverse/future.tools\", ref=\"master\")"},{"path":"https://future.tools.futureverse.org/index.html","id":"pre-release-version","dir":"","previous_headings":"Installation","what":"Pre-release version","title":"Tools for Working with Futures","text":"install pre-release version available Git branch develop GitHub, use: install package source.","code":"remotes::install_github(\"futureverse/future.tools\", ref=\"develop\")"},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate an R expression while collecting journals from completed futures — capture_journals","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"Evaluate R expression collecting journals completed futures","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"","code":"capture_journals(expr, substitute = TRUE, envir = parent.frame())"},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"expr R expression evaluate substitute TRUE, expr substituted, otherwise . envir environment expr evaluated","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"list FutureJournal:s.","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"function evaluates R expression capture journals signaled futures completed. future journal comprise log events appearing life-span future, e.g. timestamps future created, launched, queried, resolved, results collected.","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"","code":"slow_fcn <- function(x) {   Sys.sleep(x / 10)   sqrt(x) }  plan(multisession, workers = 2) js <- capture_journals({   fs <- lapply(3:1, FUN = function(x) future(slow_fcn(x)))   value(fs) })  ## Summarize all journals js_all <- Reduce(rbind, js) print(summary(js_all), digits = 2L) #> Number of futures: 3 #>   summary  evaluate evaluate_ratio  overhead overhead_ratio  duration  walltime #> 1     min 0.10 secs           0.27 0.24 secs           0.61 0.39 secs 0.39 secs #> 2    mean 0.27 secs           0.47 0.26 secs           0.44 0.58 secs 0.58 secs #> 3  median 0.32 secs           0.51 0.26 secs           0.40 0.64 secs 0.64 secs #> 4     max 0.39 secs           0.55 0.27 secs           0.38 0.70 secs 0.70 secs #> 5   total 0.82 secs           0.47 0.77 secs           0.44 1.73 secs 1.73 secs  ## Shut down parallel workers plan(sequential)"},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Future Journal Plot — ggjournal","title":"Create a Future Journal Plot — ggjournal","text":"Create Future Journal Plot","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Future Journal Plot — ggjournal","text":"","code":"ggjournal(   x,   style = c(\"future\", \"future-worker\", \"worker\"),   flatten = FALSE,   time_range = getOption(\"future.tools.ggjournal.time_range\", NULL),   item_range = getOption(\"future.tools.ggjournal.item_range\", NULL),   events = NULL,   baseline = TRUE,   label_fmt = \"#%s\",   annotate = c(\"future_label\"),   arrows = c(\"launch\", \"gather\"),   layer_height = c(1/4, 1/4, 1/4, 1/8),   ... )"},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Future Journal Plot — ggjournal","text":"x list future::Future FutureJournal objects. style (character string) One \"future\", \"future-worker\", \"worker\". flatten (logical) TRUE, futures separated vertically. time_range (optional vector length two) range time displayed. item_range (optional vector length two) range future worker indices displayed. events (character vector; optional) Events displayed. NULL, events displayed. baseline (POSIXct; optional) timestamp server time zero relative timestamps. TRUE (default), earliest timepoint observed used baseline. label_fmt (format string; optional) Used create labels future_label missing. NULL, labels created. annotate (character vector) Additional annotations add. arrows (character vector) Type arrows draw. layer_height (integer vector length four) Height four possible layers stacked events. total height, sum, less one order futures overlap. ... Currently used.","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Future Journal Plot — ggjournal","text":"ggplot2::ggplot object.","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Future Journal Plot — ggjournal","text":"","code":"library(future.apply) library(future)  slow_fcn <- function(x) {   Sys.sleep(x / 10)   sqrt(x) }  ## Plot with fixed x and y limits ggjournal_x <- function(js) {   for (style in c(\"future\", \"worker\")) {     item_range <- if (style == \"future\") c(1, 5) else c(0, 1.8)     print(ggjournal(js, style = style,                     time_range = c(0, 2.0), item_range = item_range))   } }   plan(sequential)  js <- capture_journals({   fs <- lapply(5:1, FUN = function(x) future(slow_fcn(x)))   vs <- value(fs) }) ggjournal_x(js)    js <- capture_journals({   vs <- future_lapply(5:1, FUN = slow_fcn) }) ggjournal_x(js) #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_text()`).  #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_text()`).    plan(multisession, workers = 2)  js <- capture_journals({   fs <- lapply(5:1, FUN = function(x) future(slow_fcn(x)))   vs <- value(fs) }) ggjournal_x(js)    js <- capture_journals({   vs <- future_lapply(5:1, FUN = slow_fcn) }) ggjournal_x(js) #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`).  #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`). #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`).    ## Shut down parallel workers plan(sequential)"},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets the logged journal of events for a future — journal","title":"Gets the logged journal of events for a future — journal","text":"WARNING: function development. can change time. now, please, depend function published R package.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets the logged journal of events for a future — journal","text":"","code":"journal(x, ...)"},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets the logged journal of events for a future — journal","text":"x Future object. ... used.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets the logged journal of events for a future — journal","text":"data frame class FutureJournal columns: event (character string) - type event took place category (character string) - category event parent (character string) - (describe) start (POSIXct) - timestamp event started (difftime) - time event started relative first event duration (difftime) - duration event future_label (character string) - label future future_uuid (character string) - UUID future session_uuid (character string) - UUID R session event took place common events : create   - future created (overhead) launch   - future launched (overhead) evaluate - future evaluated (evaluation) resolved - future queried (may occur multiple times) (overhead) gather   - results retrieved (overhead) others may added Future classes. Common event categories : evaluation - processing time spent evaluation overhead   - processing time spent orchestrating future waiting    - processing time spent waiting set querying future others may added Future classes. data frame sorted time. Note timestamps evaluate event based local time worker. system clocks worker calling R system may perfect sync.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"enabling-and-disabling-event-logging","dir":"Reference","previous_headings":"","what":"Enabling and disabling event logging","title":"Gets the logged journal of events for a future — journal","text":"enable logging events, set option future.journal TRUE. disable, set FALSE (default).","code":""},{"path":[]},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets the logged journal of events for a future — journal","text":"","code":"## Enable journaling of futures oopts <- options(future.journal = TRUE)  plan(multisession, workers = 2L)  t_start <- Sys.time() fs <- lapply(1:3, FUN = function(x) future({ Sys.sleep(x); sqrt(x) })) vs <- value(fs) js <- lapply(fs, FUN = journal, baseline = t_start) print(js) #> [[1]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-04-19 09:45:08 0.000000000 secs #> 4        launch   overhead   <NA> 2025-04-19 09:45:08 0.002168179 secs #> 2     getWorker   overhead launch 2025-04-19 09:45:08 0.002276421 secs #> 3   eraseWorker   overhead launch 2025-04-19 09:45:08 0.221534967 secs #> 7      evaluate evaluation   <NA> 2025-04-19 09:45:09 0.269107580 secs #> 5 receiveResult   overhead gather 2025-04-19 09:45:10 1.387793779 secs #> 6        gather   overhead   <NA> 2025-04-19 09:45:10 1.388931036 secs #> 8       resolve   overhead   <NA> 2025-04-19 09:45:10 1.443564653 secs #>            duration future_label                         future_uuid #> 1 1.775980e-03 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 4 2.248182e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 2 2.182391e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 3 5.555153e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 7 1.104215e+00 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 5 1.823902e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 6 7.271767e-05 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #> 8 1.406670e-05 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-17 #>                       session_uuid #> 1 bdbdfeff674b525d44fe0a1b786d028b #> 4 bdbdfeff674b525d44fe0a1b786d028b #> 2 bdbdfeff674b525d44fe0a1b786d028b #> 3 bdbdfeff674b525d44fe0a1b786d028b #> 7 bdbdfeff674b525d44fe0a1b786d028b #> 5 bdbdfeff674b525d44fe0a1b786d028b #> 6 bdbdfeff674b525d44fe0a1b786d028b #> 8 bdbdfeff674b525d44fe0a1b786d028b #>  #> [[2]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-04-19 09:45:09 0.000000000 secs #> 4        launch   overhead   <NA> 2025-04-19 09:45:09 0.003958941 secs #> 2     getWorker   overhead launch 2025-04-19 09:45:09 0.004151106 secs #> 3   eraseWorker   overhead launch 2025-04-19 09:45:09 0.334772110 secs #> 7      evaluate evaluation   <NA> 2025-04-19 09:45:09 0.382142782 secs #> 5 receiveResult   overhead gather 2025-04-19 09:45:11 2.537276745 secs #> 6        gather   overhead   <NA> 2025-04-19 09:45:11 2.539018154 secs #> 8       resolve   overhead   <NA> 2025-04-19 09:45:11 2.544245481 secs #>            duration future_label                         future_uuid #> 1 3.381968e-03 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 4 3.351159e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 2 3.297577e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 3 4.286766e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 7 2.153375e+00 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 5 2.949238e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 6 1.425743e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #> 8 2.932549e-05 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-18 #>                       session_uuid #> 1 bdbdfeff674b525d44fe0a1b786d028b #> 4 bdbdfeff674b525d44fe0a1b786d028b #> 2 bdbdfeff674b525d44fe0a1b786d028b #> 3 bdbdfeff674b525d44fe0a1b786d028b #> 7 bdbdfeff674b525d44fe0a1b786d028b #> 5 bdbdfeff674b525d44fe0a1b786d028b #> 6 bdbdfeff674b525d44fe0a1b786d028b #> 8 bdbdfeff674b525d44fe0a1b786d028b #>  #> [[3]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-04-19 09:45:09 0.000000000 secs #> 4        launch   overhead   <NA> 2025-04-19 09:45:09 0.002678633 secs #> 2     getWorker   overhead launch 2025-04-19 09:45:09 0.002816916 secs #> 3   eraseWorker   overhead launch 2025-04-19 09:45:10 0.871168613 secs #> 7      evaluate evaluation   <NA> 2025-04-19 09:45:10 0.907482386 secs #> 5 receiveResult   overhead gather 2025-04-19 09:45:13 3.916936159 secs #> 6        gather   overhead   <NA> 2025-04-19 09:45:13 3.918665409 secs #> 8       resolve   overhead   <NA> 2025-04-19 09:45:13 3.924418926 secs #>            duration future_label                         future_uuid #> 1 2.311707e-03 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 4 8.717399e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 2 8.678100e-01 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 3 4.348755e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 7 3.007834e+00 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 5 3.004074e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 6 1.378059e-04 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #> 8 3.576279e-05 secs         <NA> bdbdfeff674b525d44fe0a1b786d028b-19 #>                       session_uuid #> 1 bdbdfeff674b525d44fe0a1b786d028b #> 4 bdbdfeff674b525d44fe0a1b786d028b #> 2 bdbdfeff674b525d44fe0a1b786d028b #> 3 bdbdfeff674b525d44fe0a1b786d028b #> 7 bdbdfeff674b525d44fe0a1b786d028b #> 5 bdbdfeff674b525d44fe0a1b786d028b #> 6 bdbdfeff674b525d44fe0a1b786d028b #> 8 bdbdfeff674b525d44fe0a1b786d028b #>   ## Stop parallel workers and disable journal logging and signaling plan(sequential) options(oopts)"},{"path":"https://future.tools.futureverse.org/news/index.html","id":"version-development-version","dir":"Changelog","previous_headings":"","what":"Version (development version)","title":"Version (development version)","text":"…","code":""},{"path":"https://future.tools.futureverse.org/news/index.html","id":"version-010","dir":"Changelog","previous_headings":"","what":"Version 0.1.0","title":"Version 0.1.0","text":"First version package based future CRAN.","code":""}]
