[{"path":"https://future.tools.futureverse.org/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to the ‘future.tools’ package","title":"Contributing to the ‘future.tools’ package","text":"Git repository uses Git Flow branching model (git flow extension useful ). develop branch contains latest contributions code appear next release, master branch contains code latest release. Contributing package easy. Just send pull request. send PR, make sure develop destination branch future.tools repository. PR pass R CMD check ---cran, also checked GitHub Actions PR submitted. abide Code Conduct Contributor Covenant.","code":""},{"path":"https://future.tools.futureverse.org/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Henrik Bengtsson. Author, maintainer, copyright holder.","code":""},{"path":"https://future.tools.futureverse.org/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bengtsson H (2025). future.tools: Tools Working Futures. R package version 0.1.0-9002, https://github.com/futureverse/future.tools, https://future.tools.futureverse.org.","code":"@Manual{,   title = {future.tools: Tools for Working with Futures},   author = {Henrik Bengtsson},   year = {2025},   note = {R package version 0.1.0-9002,         https://github.com/futureverse/future.tools},   url = {https://future.tools.futureverse.org}, }"},{"path":[]},{"path":"https://future.tools.futureverse.org/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Working with Futures","text":"R package future.tools available via GitHub can installed R :","code":"remotes::install_github(\"futureverse/future.tools\", ref=\"master\")"},{"path":"https://future.tools.futureverse.org/index.html","id":"pre-release-version","dir":"","previous_headings":"Installation","what":"Pre-release version","title":"Tools for Working with Futures","text":"install pre-release version available Git branch develop GitHub, use: install package source.","code":"remotes::install_github(\"futureverse/future.tools\", ref=\"develop\")"},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate an R expression while collecting journals from completed futures — capture_journals","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"Evaluate R expression collecting journals completed futures","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"","code":"capture_journals(expr, substitute = TRUE, envir = parent.frame())"},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"expr R expression evaluate substitute TRUE, expr substituted, otherwise . envir environment expr evaluated","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"list FutureJournal:s.","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"function evaluates R expression capture journals signaled futures completed. future journal comprise log events appearing life-span future, e.g. timestamps future created, launched, queried, resolved, results collected.","code":""},{"path":"https://future.tools.futureverse.org/reference/capture_journals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate an R expression while collecting journals from completed futures — capture_journals","text":"","code":"slow_fcn <- function(x) {   Sys.sleep(x / 10)   sqrt(x) }  plan(multisession, workers = 2) js <- capture_journals({   fs <- lapply(3:1, FUN = function(x) future(slow_fcn(x)))   value(fs) })  ## Summarize all journals js_all <- Reduce(rbind, js) print(summary(js_all), digits = 2L) #> Number of futures: 3 #>   summary  evaluate evaluate_ratio   overhead overhead_ratio  duration #> 1     min 0.10 secs           0.23 0.033 secs          0.073 0.45 secs #> 2    mean 0.24 secs           0.45 0.167 secs          0.315 0.53 secs #> 3  median 0.26 secs           0.47 0.035 secs          0.064 0.54 secs #> 4     max 0.36 secs           0.60 0.432 secs          0.730 0.59 secs #> 5   total 0.72 secs           0.45 0.500 secs          0.315 1.59 secs #>    walltime #> 1 0.45 secs #> 2 0.53 secs #> 3 0.54 secs #> 4 0.59 secs #> 5 1.59 secs  ## Shut down parallel workers plan(sequential)"},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Future Journal Plot — ggjournal","title":"Create a Future Journal Plot — ggjournal","text":"Create Future Journal Plot","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Future Journal Plot — ggjournal","text":"","code":"ggjournal(   x,   style = c(\"future\", \"future-worker\", \"worker\"),   flatten = FALSE,   time_range = getOption(\"future.tools.ggjournal.time_range\", NULL),   item_range = getOption(\"future.tools.ggjournal.item_range\", NULL),   events = NULL,   baseline = TRUE,   label_fmt = \"#%s\",   annotate = c(\"future_label\"),   arrows = c(\"launch\", \"gather\"),   layer_height = c(1/4, 1/4, 1/4, 1/8),   ... )"},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Future Journal Plot — ggjournal","text":"x list future::Future FutureJournal objects. style (character string) One \"future\", \"future-worker\", \"worker\". flatten (logical) TRUE, futures separated vertically. time_range (optional vector length two) range time displayed. item_range (optional vector length two) range future worker indices displayed. events (character vector; optional) Events displayed. NULL, events displayed. baseline (POSIXct; optional) timestamp server time zero relative timestamps. TRUE (default), earliest timepoint observed used baseline. label_fmt (format string; optional) Used create labels future_label missing. NULL, labels created. annotate (character vector) Additional annotations add. arrows (character vector) Type arrows draw. layer_height (integer vector length four) Height four possible layers stacked events. total height, sum, less one order futures overlap. ... Currently used.","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Future Journal Plot — ggjournal","text":"ggplot2::ggplot object.","code":""},{"path":"https://future.tools.futureverse.org/reference/ggjournal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Future Journal Plot — ggjournal","text":"","code":"library(future.apply) library(future)  slow_fcn <- function(x) {   Sys.sleep(x / 10)   sqrt(x) }  ## Plot with fixed x and y limits ggjournal_x <- function(js) {   for (style in c(\"future\", \"worker\")) {     item_range <- if (style == \"future\") c(1, 5) else c(0, 1.8)     print(ggjournal(js, style = style,                     time_range = c(0, 2.0), item_range = item_range))   } }   plan(sequential)  js <- capture_journals({   fs <- lapply(5:1, FUN = function(x) future(slow_fcn(x)))   vs <- value(fs) }) ggjournal_x(js)    js <- capture_journals({   vs <- future_lapply(5:1, FUN = slow_fcn) }) ggjournal_x(js) #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_text()`).  #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_text()`).    plan(multisession, workers = 2)  js <- capture_journals({   fs <- lapply(5:1, FUN = function(x) future(slow_fcn(x)))   vs <- value(fs) }) ggjournal_x(js)    js <- capture_journals({   vs <- future_lapply(5:1, FUN = slow_fcn) }) ggjournal_x(js) #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`).  #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`). #> Warning: Removed 2 rows containing missing values or values outside the scale range #> (`geom_text()`).    ## Shut down parallel workers plan(sequential)"},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets the logged journal of events for a future — journal","title":"Gets the logged journal of events for a future — journal","text":"WARNING: function development. can change time. now, please, depend function published R package.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets the logged journal of events for a future — journal","text":"","code":"journal(x, ...)"},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets the logged journal of events for a future — journal","text":"x Future object. ... used.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets the logged journal of events for a future — journal","text":"data frame class FutureJournal columns: event (character string) - type event took place category (character string) - category event parent (character string) - (describe) start (POSIXct) - timestamp event started (difftime) - time event started relative first event duration (difftime) - duration event future_label (character string) - label future future_uuid (character string) - UUID future session_uuid (character string) - UUID R session event took place common events : create   - future created (overhead) launch   - future launched (overhead) evaluate - future evaluated (evaluation) resolved - future queried (may occur multiple times) (overhead) gather   - results retrieved (overhead) others may added Future classes. Common event categories : evaluation - processing time spent evaluation overhead   - processing time spent orchestrating future waiting    - processing time spent waiting set querying future others may added Future classes. data frame sorted time. Note timestamps evaluate event based local time worker. system clocks worker calling R system may perfect sync.","code":""},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"enabling-and-disabling-event-logging","dir":"Reference","previous_headings":"","what":"Enabling and disabling event logging","title":"Gets the logged journal of events for a future — journal","text":"enable logging events, set option future.journal TRUE. disable, set FALSE (default).","code":""},{"path":[]},{"path":"https://future.tools.futureverse.org/reference/journal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets the logged journal of events for a future — journal","text":"","code":"## Enable journaling of futures oopts <- options(future.journal = TRUE)  plan(multisession, workers = 2L)  t_start <- Sys.time() fs <- lapply(1:3, FUN = function(x) future({ Sys.sleep(x); sqrt(x) })) vs <- value(fs) js <- lapply(fs, FUN = journal, baseline = t_start) print(js) #> [[1]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-03-28 22:02:38 0.000000000 secs #> 4        launch   overhead   <NA> 2025-03-28 22:02:38 0.003238678 secs #> 2     getWorker   overhead launch 2025-03-28 22:02:38 0.003318310 secs #> 3   eraseWorker   overhead launch 2025-03-28 22:02:38 0.003929377 secs #> 7      evaluate evaluation   <NA> 2025-03-28 22:02:38 0.068408251 secs #> 5 receiveResult   overhead gather 2025-03-28 22:02:39 1.121487856 secs #> 6        gather   overhead   <NA> 2025-03-28 22:02:39 1.123256445 secs #> 8       resolve   overhead   <NA> 2025-03-28 22:02:39 1.135453701 secs #>            duration future_label                         future_uuid #> 1 2.979994e-03 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 4 2.369356e-02 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 2 9.226799e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 3 2.193785e-02 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 7 1.032018e+00 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 5 2.622604e-04 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 6 8.940697e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #> 8 2.717972e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-17 #>                       session_uuid #> 1 907402de71e8157b729b6b0636699f08 #> 4 907402de71e8157b729b6b0636699f08 #> 2 907402de71e8157b729b6b0636699f08 #> 3 907402de71e8157b729b6b0636699f08 #> 7 907402de71e8157b729b6b0636699f08 #> 5 907402de71e8157b729b6b0636699f08 #> 6 907402de71e8157b729b6b0636699f08 #> 8 907402de71e8157b729b6b0636699f08 #>  #> [[2]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-03-28 22:02:38 0.000000000 secs #> 4        launch   overhead   <NA> 2025-03-28 22:02:38 0.001740932 secs #> 2     getWorker   overhead launch 2025-03-28 22:02:38 0.001817226 secs #> 3   eraseWorker   overhead launch 2025-03-28 22:02:38 0.002372265 secs #> 7      evaluate evaluation   <NA> 2025-03-28 22:02:38 0.066682816 secs #> 5 receiveResult   overhead gather 2025-03-28 22:02:40 2.096972942 secs #> 6        gather   overhead   <NA> 2025-03-28 22:02:40 2.097708702 secs #> 8       resolve   overhead   <NA> 2025-03-28 22:02:40 2.099483013 secs #>            duration future_label                         future_uuid #> 1 1.490831e-03 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 4 2.385545e-02 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 2 8.511543e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 3 2.235723e-02 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 7 2.027905e+00 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 5 1.208782e-04 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 6 3.242493e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #> 8 1.120567e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-18 #>                       session_uuid #> 1 907402de71e8157b729b6b0636699f08 #> 4 907402de71e8157b729b6b0636699f08 #> 2 907402de71e8157b729b6b0636699f08 #> 3 907402de71e8157b729b6b0636699f08 #> 7 907402de71e8157b729b6b0636699f08 #> 5 907402de71e8157b729b6b0636699f08 #> 6 907402de71e8157b729b6b0636699f08 #> 8 907402de71e8157b729b6b0636699f08 #>  #> [[3]] #>           event   category parent               start               at #> 1        create   overhead   <NA> 2025-03-28 22:02:38 0.000000000 secs #> 4        launch   overhead   <NA> 2025-03-28 22:02:38 0.001644611 secs #> 2     getWorker   overhead launch 2025-03-28 22:02:38 0.001718044 secs #> 3   eraseWorker   overhead launch 2025-03-28 22:02:39 1.076527596 secs #> 7      evaluate evaluation   <NA> 2025-03-28 22:02:39 1.120307922 secs #> 5 receiveResult   overhead gather 2025-03-28 22:02:42 4.130041122 secs #> 6        gather   overhead   <NA> 2025-03-28 22:02:42 4.131712198 secs #> 8       resolve   overhead   <NA> 2025-03-28 22:02:42 4.136856079 secs #>            duration future_label                         future_uuid #> 1 1.399517e-03 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 4 1.077933e+00 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 2 1.073243e+00 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 3 1.040936e-03 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 7 3.007167e+00 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 5 2.737045e-04 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 6 1.001358e-04 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #> 8 4.529953e-05 secs         <NA> 907402de71e8157b729b6b0636699f08-19 #>                       session_uuid #> 1 907402de71e8157b729b6b0636699f08 #> 4 907402de71e8157b729b6b0636699f08 #> 2 907402de71e8157b729b6b0636699f08 #> 3 907402de71e8157b729b6b0636699f08 #> 7 907402de71e8157b729b6b0636699f08 #> 5 907402de71e8157b729b6b0636699f08 #> 6 907402de71e8157b729b6b0636699f08 #> 8 907402de71e8157b729b6b0636699f08 #>   ## Stop parallel workers and disable journal logging and signaling plan(sequential) options(oopts)"},{"path":"https://future.tools.futureverse.org/news/index.html","id":"version-development-version","dir":"Changelog","previous_headings":"","what":"Version (development version)","title":"Version (development version)","text":"…","code":""},{"path":"https://future.tools.futureverse.org/news/index.html","id":"version-010","dir":"Changelog","previous_headings":"","what":"Version 0.1.0","title":"Version 0.1.0","text":"First version package based future CRAN.","code":""}]
